<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>木薯叔天然木薯貓砂</title>

  <!-- Snipcart CSS -->
  <link rel="stylesheet" href="https://cdn.snipcart.com/themes/v3.3.0/default/snipcart.css" />
  <link rel="stylesheet" href="style.css" />

  <style>
    body {
      margin: 0;
      font-family: "微軟正黑體", sans-serif;
      background: #000;
      color: #fff;
    }

    .navbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background-color: #000;
      padding: 1rem;
      position: relative;
      z-index: 10;
    }

    .logo {
      height: 40px;
    }

    .menu-icon {
      font-size: 1.8rem;
      cursor: pointer;
      color: white;
      background: none;
      border: none;
    }

    .mobile-menu {
      position: fixed;
      top: 0;
      left: -100%;
      width: 70%;
      height: 100%;
      background-color: #111;
      color: white;
      transition: left 0.3s ease;
      padding: 2rem 1.5rem;
      z-index: 20;
    }

    .mobile-menu.open {
      left: 0;
    }

    .mobile-menu ul {
      list-style: none;
      padding: 0;
      margin-top: 2rem;
    }

    .mobile-menu ul li {
      margin: 1.2rem 0;
    }

    .mobile-menu ul li a {
      color: white;
      text-decoration: none;
      font-size: 1.1rem;
    }

    .overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.5);
      z-index: 15;
      display: none;
    }

    .overlay.show {
      display: block;
    }

    .hero {
      text-align: center;
      padding: 6rem 1rem;
    }

    .cta-button {
      padding: 0.75rem 1.5rem;
      font-size: 1rem;
      background-color: #cba862;
      border: none;
      color: white;
      cursor: pointer;
      border-radius: 4px;
      text-decoration: none;
    }

    .product {
      text-align: center;
      padding: 3rem 1rem;
    }

    .quantity-container {
      margin: 1rem 0;
    }

    .quantity-button {
      padding: 0.5rem 1rem;
      font-size: 1.2rem;
      background-color: #cba862;
      color: #fff;
      border: none;
      border-radius: 4px;
      margin: 0 0.5rem;
      cursor: pointer;
    }

    .custom-cart-button {
      background-color: #cba862;
      color: #fff;
      border: none;
      padding: 0.75rem 1.5rem;
      font-size: 1rem;
      cursor: pointer;
      border-radius: 4px;
    }

    footer {
      text-align: center;
      padding: 2rem 1rem;
      background-color: #111;
      color: #888;
      font-size: 0.9rem;
    }

    .social-icons a img {
      margin: 0 0.5rem;
    }
  </style>
</head>

<body>
  <header class="navbar">
    <img src="image/木薯叔-頭貼logo.png" alt="木薯叔 Logo" class="logo" />
    <button class="menu-icon" onclick="toggleMenu()">☰</button>
  </header>

  <div class="mobile-menu" id="mobileMenu">
    <ul>
      <li><a href="#about">品牌故事</a></li>
      <li><a href="#product">產品介紹</a></li>
      <li><a href="#howto">使用方式</a></li>
      <li><a href="#faq">常見問題</a></li>
      <li><a href="#contact">聯絡我們</a></li>
      <li><a href="#cart">購物車</a></li>
    </ul>
  </div>
  <div class="overlay" id="overlay" onclick="toggleMenu()"></div>

  <main class="hero">
    <h1>木薯叔天然木薯貓砂</h1>
    <p>給貓咪最安心的選擇，來自大地的天然呵護</p>
    <a href="#product" class="cta-button">立即選購</a>
  </main>

  <section id="about">
    <h2>品牌故事</h2>
    <p>敬請期待品牌故事文字內容。</p>
  </section>

<section id="product">
  <h2>產品介紹</h2>

  <div class="product">
    <img src="image/product_sand.jpg" alt="木薯叔天然木薯貓砂" class="product-image" />

    <h3>木薯叔天然木薯貓砂</h3>
    <p>天然無添加木薯貓砂，清爽不黏底，適合過敏貓</p>

    <div class="quantity-container">
      <button class="quantity-button" onclick="decreaseQuantity()">−</button>
      <input id="product-quantity" type="number" value="1" min="1">
      <button class="quantity-button" onclick="increaseQuantity()">＋</button>
    </div>

    <button
      class="snipcart-add-item cart-button"
      data-item-id="cassava-sand"
      data-item-name="木薯叔天然木薯貓砂"
      data-item-price="250"
      data-item-url="index.html"
      data-item-description="天然無添加木薯貓砂，清爽不黏底，適合過敏貓"
      data-item-quantity="1"
      onclick="updateQuantity()"
    >
      加入購物車
    </button>
  </div>
</section>


  <section id="howto">
    <h2>使用方式</h2>
    <p>敬請期待...</p>
  </section>

  <section id="faq">
    <h2>常見問題</h2>
    <p>這裡將放置常見問題與解答。</p>
  </section>

  <section id="contact">
    <h2>聯絡我們</h2>
    <p>Email：<a href="mailto:mryuca1110@gmail.com">mryuca1110@gmail.com</a></p>
    <p>Instagram：<a href="https://www.instagram.com/mr_yuca" target="_blank">@mr_yuca</a></p>
    <p>電話：將於日後更新</p>
    <p>LINE / Facebook / 統編：尚未提供</p>
  </section>

  <footer>
    <p>&copy; 2025 木薯叔天然木薯貓砂 | 本網站由品牌熱血建立</p>
    <div class="social-icons">
      <a href="https://www.instagram.com/mr_yuca" target="_blank"><img src="icons/icon_1.png" alt="Instagram" width="32" /></a>
      <a href="#"><img src="icons/icon_2.png" alt="Facebook" width="32" /></a>
      <a href="#"><img src="icons/icon_3.png" alt="LINE" width="32" /></a>
      <a href="#"><img src="icons/icon_4.png" alt="Shopee" width="32" /></a>
    </div>
  </footer>

  <div class="snipcart-summary">
  <a href="#" class="snipcart-checkout">
     <span class="snipcart-items-count"></span> 件商品 - <span class="snipcart-total-price"></span>
  </a>
</div>

  <!-- Snipcart Script -->
  <script async src="https://cdn.snipcart.com/themes/v3.3.0/default/snipcart.js"></script>

  <!-- Snipcart Container -->
  <div hidden id="snipcart" data-api-key="MDJhYTU3MzEtM2U3Ni00NmNiLTgzODUtYWEzNTI1MmFmYjVmNjM4ODQ0Njc2MTc2MzY4ODA5"></div>

  <!-- 自訂功能 -->
  <script>
    function toggleMenu() {
      const menu = document.getElementById("mobileMenu");
      const overlay = document.getElementById("overlay");
      menu.classList.toggle("open");
      overlay.classList.toggle("show");
    }

    function increaseQty() {
      const input = document.getElementById('productQty');
      input.value = parseInt(input.value) + 1;
    }

    function decreaseQty() {
      const input = document.getElementById('productQty');
      if (parseInt(input.value) > 1) {
        input.value = parseInt(input.value) - 1;
      }
    }

    function updateCartQty() {
      const qty = document.getElementById('productQty').value;
      const addBtn = document.querySelector('.snipcart-add-item');
      addBtn.setAttribute('data-item-quantity', qty);
    }
  </script>
  <!--浮動購物欄位 HTML-->
  <div class="floating-cart-bar" id="floatingCartBar">
  <a href="#" class="snipcart-checkout">
    🛒 購物車：<span class="snipcart-items-count"></span> 件 - NT$<span class="snipcart-total-price"></span>
    <span class="snipcart-items-count"></span>
    <span class="snipcart-total-price"></span>
  </a>
</div>

  <!--浮動購物欄 JS 功能-->
  <script>
  let lastScrollY = window.scrollY;
  const cartBar = document.getElementById('floatingCartBar');

  window.addEventListener('scroll', () => {
    const currentScrollY = window.scrollY;

    if (currentScrollY > lastScrollY) {
      // 👇 往下滑 → 顯示浮動欄
      cartBar.classList.add('show');
    } else {
      // 👆 往上滑 → 隱藏
      cartBar.classList.remove('show');
    }

    lastScrollY = currentScrollY;
  });
</script>
  
  <script>
  document.addEventListener('snipcart.ready', () => {
    const cartCount = document.querySelector('.snipcart-items-count');
    const cartTotal = document.querySelector('.snipcart-total-price');

    Snipcart.store.subscribe(() => {
      const state = Snipcart.store.getState();
      const items = state.cart.items;
      const total = state.cart.total;

      // 計算總數量
      const quantity = items.reduce((sum, item) => sum + item.quantity, 0);
      cartCount.textContent = quantity;

      // 顯示價格（NT$）
      cartTotal.textContent = Math.round(total) + ' 元';
    });
  });
</script>

</body>
</html>

<script>
  function increaseQuantity() {
    const input = document.getElementById("product-quantity");
    input.value = parseInt(input.value) + 1;
  }

  function decreaseQuantity() {
    const input = document.getElementById("product-quantity");
    if (parseInt(input.value) > 1) {
      input.value = parseInt(input.value) - 1;
    }
  }

  function updateQuantity() {
    const quantity = document.getElementById("product-quantity").value;
    const button = document.querySelector(".snipcart-add-item");
    button.setAttribute("data-item-quantity", quantity);
  }
</script>

<script>
  document.addEventListener('snipcart.ready', () => {
    const updatePrices = () => {
      document.querySelectorAll('.snipcart__price--amount').forEach(el => {
        const priceText = el.textContent.trim().replace(/[^\d.]/g, '');
        el.setAttribute('data-price', priceText);
      });
    };

    updatePrices();
    // 監聽變動：每次重新渲染 Snipcart 購物車都執行
    document.addEventListener('snipcart.cart.ready', updatePrices);
    document.addEventListener('snipcart.cart.closed', updatePrices);
  });
</script>

<script>
  let lastScrollY = window.scrollY;

  window.addEventListener('scroll', () => {
    const currentScrollY = window.scrollY;
    const cartBar = document.getElementById('floatingCartBar');

    if (currentScrollY > lastScrollY && currentScrollY > 100) {
      // 往下滑
      cartBar.classList.add('show');
    } else {
      // 往上滑或頂部
      cartBar.classList.remove('show');
    }

    lastScrollY = currentScrollY;
  });
</script>




